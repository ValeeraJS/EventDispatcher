<script src="../build/EventDispatcher.js"></script>
<script>

    class Car extends EventDispatcher {
        constructor() {
            super(['car-a', 'bus-1']);
        }
        start = () => {
            this.dispatch('car-a', {message: 'aaa'});
            this.dispatch('car-b', {message: 'bbb'});
            this.dispatch('car-c', {message: 'ccc'});
            this.dispatch('bus-1', {message: '111'});
            this.dispatch('bus-2', {message: '222'});
        };
    }

    const car = new Car();

    car.on('car-a', function (event) {
        console.log("on: ", event.target.message)
    }).filt((type) => {
        return type.indexOf('car') > -1;
    }, (event) => {
        console.log('filt: ', event.target.message);
    }).all((event) => {
        console.log('all: ', event.target.message);
    });

    car.start();

</script>