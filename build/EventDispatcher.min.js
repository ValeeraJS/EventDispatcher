function n(b){var e=0;return function(){return e<b.length?{done:!1,value:b[e++]}:{done:!0}}}function p(b){var e="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return e?e.call(b):{next:n(b)}}var r="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,t="function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,g){b!=Array.prototype&&b!=Object.prototype&&(b[e]=g.value)};
function u(){u=function(){};r.Symbol||(r.Symbol=v)}function w(b,e){this.l=b;t(this,"description",{configurable:!0,writable:!0,value:e})}w.prototype.toString=function(){return this.l};var v=function(){function b(g){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new w("jscomp_symbol_"+(g||"")+"_"+e++,g)}var e=0;return b}();
function x(){u();var b=r.Symbol.iterator;b||(b=r.Symbol.iterator=r.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[b]&&t(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return y(n(this))}});x=function(){}}function y(b){x();b={next:b};b[r.Symbol.iterator]=function(){return this};return b}function z(b,e){return Object.prototype.hasOwnProperty.call(b,e)}
function A(b,e){if(e){var g=r;b=b.split(".");for(var k=0;k<b.length-1;k++){var f=b[k];f in g||(g[f]={});g=g[f]}b=b[b.length-1];k=g[b];e=e(k);e!=k&&null!=e&&t(g,b,{configurable:!0,writable:!0,value:e})}}
A("WeakMap",function(b){function e(a){this.h=(c+=Math.random()+1).toString();if(a){a=p(a);for(var d;!(d=a.next()).done;)d=d.value,this.set(d[0],d[1])}}function g(){}function k(a){var d=typeof a;return"object"===d&&null!==a||"function"===d}function f(a){if(!z(a,l)){var d=new g;t(a,l,{value:d})}}function m(a){var d=Object[a];d&&(Object[a]=function(h){if(h instanceof g)return h;f(h);return d(h)})}if(function(){if(!b||!Object.seal)return!1;try{var a=Object.seal({}),d=Object.seal({}),h=new b([[a,2],[d,
3]]);if(2!=h.get(a)||3!=h.get(d))return!1;h.delete(a);h.set(d,4);return!h.has(a)&&4==h.get(d)}catch(q){return!1}}())return b;var l="$jscomp_hidden_"+Math.random();m("freeze");m("preventExtensions");m("seal");var c=0;e.prototype.set=function(a,d){if(!k(a))throw Error("Invalid WeakMap key");f(a);if(!z(a,l))throw Error("WeakMap key fail: "+a);a[l][this.h]=d;return this};e.prototype.get=function(a){return k(a)&&z(a,l)?a[l][this.h]:void 0};e.prototype.has=function(a){return k(a)&&z(a,l)&&z(a[l],this.h)};
e.prototype.delete=function(a){return k(a)&&z(a,l)&&z(a[l],this.h)?delete a[l][this.h]:!1};return e});
A("Map",function(b){function e(){var c={};return c.c=c.next=c.head=c}function g(c,a){var d=c.b;return y(function(){if(d){for(;d.head!=c.b;)d=d.c;for(;d.next!=d.head;)return d=d.next,{done:!1,value:a(d)};d=null}return{done:!0,value:void 0}})}function k(c,a){var d=a&&typeof a;"object"==d||"function"==d?m.has(a)?d=m.get(a):(d=""+ ++l,m.set(a,d)):d="p_"+a;var h=c.g[d];if(h&&z(c.g,d))for(c=0;c<h.length;c++){var q=h[c];if(a!==a&&q.key!==q.key||a===q.key)return{id:d,list:h,index:c,a:q}}return{id:d,list:h,
index:-1,a:void 0}}function f(c){this.g={};this.b=e();this.size=0;if(c){c=p(c);for(var a;!(a=c.next()).done;)a=a.value,this.set(a[0],a[1])}}if(function(){if(!b||"function"!=typeof b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),a=new b(p([[c,"s"]]));if("s"!=a.get(c)||1!=a.size||a.get({x:4})||a.set({x:4},"t")!=a||2!=a.size)return!1;var d=a.entries(),h=d.next();if(h.done||h.value[0]!=c||"s"!=h.value[1])return!1;h=d.next();return h.done||4!=h.value[0].x||
"t"!=h.value[1]||!d.next().done?!1:!0}catch(q){return!1}}())return b;x();var m=new WeakMap;f.prototype.set=function(c,a){c=0===c?0:c;var d=k(this,c);d.list||(d.list=this.g[d.id]=[]);d.a?d.a.value=a:(d.a={next:this.b,c:this.b.c,head:this.b,key:c,value:a},d.list.push(d.a),this.b.c.next=d.a,this.b.c=d.a,this.size++);return this};f.prototype.delete=function(c){c=k(this,c);return c.a&&c.list?(c.list.splice(c.index,1),c.list.length||delete this.g[c.id],c.a.c.next=c.a.next,c.a.next.c=c.a.c,c.a.head=null,
this.size--,!0):!1};f.prototype.clear=function(){this.g={};this.b=this.b.c=e();this.size=0};f.prototype.has=function(c){return!!k(this,c).a};f.prototype.get=function(c){return(c=k(this,c).a)&&c.value};f.prototype.entries=function(){return g(this,function(c){return[c.key,c.value]})};f.prototype.keys=function(){return g(this,function(c){return c.key})};f.prototype.values=function(){return g(this,function(c){return c.value})};f.prototype.forEach=function(c,a){for(var d=this.entries(),h;!(h=d.next()).done;)h=
h.value,c.call(a,h[1],h[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var l=0;return f});var B=this;
function C(){return function(){var b=this;this.j=[];this.f=new Map;this.all=function(e){return b.flit(function(){return!0},e)};this.clear=function(e){b.f.delete(e);return b};this.dispatch=function(e,g){for(var k=b.f.get(e)||[],f=k.length,m,l=0;l<f;l++)m=k[l],m.listener({o:e,target:g,s:--m.i}),0>=m.i&&(k.splice(l--,1),--f);return b.m(e,g)};this.flit=function(e,g){b.j.push({u:e,listener:g});return b};this.off=function(e,g){e=b.f.get(e);if(!e)return b;for(var k=e.length,f=0;f<k;f++)if(e[f].listener===
g){e.splice(f,1);break}return b};this.on=function(e,g){return b.i(e,Infinity,g)};this.once=function(e,g){return b.i(e,1,g)};this.i=function(e,g,k){var f=b.f.get(e)||[];b.f.has(e)||b.f.set(e,f);f.push({listener:k,i:g});return b};this.m=function(e,g){for(var k=p(b.j),f=k.next();!f.done;f=k.next())f=f.value,f.u(e,g)&&f.listener({o:e,target:g,s:Infinity});return b}}}
"object"===typeof exports&&"undefined"!==typeof module?module.w=C():"function"===typeof define&&define.v?define(C):(B=B||self,B.EventDispatcher=C());
