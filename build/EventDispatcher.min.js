function n(e){var c=0;return function(){return c<e.length?{done:!1,value:e[c++]}:{done:!0}}}function p(e){var c="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return c?c.call(e):{next:n(e)}}var r="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,c,a){e!=Array.prototype&&e!=Object.prototype&&(e[c]=a.value)};
function u(){u=function(){};r.Symbol||(r.Symbol=v)}function w(e,c){this.m=e;t(this,"description",{configurable:!0,writable:!0,value:c})}w.prototype.toString=function(){return this.m};var v=function(){function e(a){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new w("jscomp_symbol_"+(a||"")+"_"+c++,a)}var c=0;return e}();
function x(){u();var e=r.Symbol.iterator;e||(e=r.Symbol.iterator=r.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[e]&&t(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return y(n(this))}});x=function(){}}function y(e){x();e={next:e};e[r.Symbol.iterator]=function(){return this};return e}function z(e,c){return Object.prototype.hasOwnProperty.call(e,c)}
function A(e,c){if(c){var a=r;e=e.split(".");for(var g=0;g<e.length-1;g++){var h=e[g];h in a||(a[h]={});a=a[h]}e=e[e.length-1];g=a[e];c=c(g);c!=g&&null!=c&&t(a,e,{configurable:!0,writable:!0,value:c})}}
A("WeakMap",function(e){function c(b){this.h=(d+=Math.random()+1).toString();if(b){b=p(b);for(var f;!(f=b.next()).done;)f=f.value,this.set(f[0],f[1])}}function a(){}function g(b){var f=typeof b;return"object"===f&&null!==b||"function"===f}function h(b){if(!z(b,m)){var f=new a;t(b,m,{value:f})}}function l(b){var f=Object[b];f&&(Object[b]=function(k){if(k instanceof a)return k;h(k);return f(k)})}if(function(){if(!e||!Object.seal)return!1;try{var b=Object.seal({}),f=Object.seal({}),k=new e([[b,2],[f,
3]]);if(2!=k.get(b)||3!=k.get(f))return!1;k.delete(b);k.set(f,4);return!k.has(b)&&4==k.get(f)}catch(q){return!1}}())return e;var m="$jscomp_hidden_"+Math.random();l("freeze");l("preventExtensions");l("seal");var d=0;c.prototype.set=function(b,f){if(!g(b))throw Error("Invalid WeakMap key");h(b);if(!z(b,m))throw Error("WeakMap key fail: "+b);b[m][this.h]=f;return this};c.prototype.get=function(b){return g(b)&&z(b,m)?b[m][this.h]:void 0};c.prototype.has=function(b){return g(b)&&z(b,m)&&z(b[m],this.h)};
c.prototype.delete=function(b){return g(b)&&z(b,m)&&z(b[m],this.h)?delete b[m][this.h]:!1};return c});
A("Map",function(e){function c(){var d={};return d.c=d.next=d.head=d}function a(d,b){var f=d.b;return y(function(){if(f){for(;f.head!=d.b;)f=f.c;for(;f.next!=f.head;)return f=f.next,{done:!1,value:b(f)};f=null}return{done:!0,value:void 0}})}function g(d,b){var f=b&&typeof b;"object"==f||"function"==f?l.has(b)?f=l.get(b):(f=""+ ++m,l.set(b,f)):f="p_"+b;var k=d.g[f];if(k&&z(d.g,f))for(d=0;d<k.length;d++){var q=k[d];if(b!==b&&q.key!==q.key||b===q.key)return{id:f,list:k,index:d,a:q}}return{id:f,list:k,
index:-1,a:void 0}}function h(d){this.g={};this.b=c();this.size=0;if(d){d=p(d);for(var b;!(b=d.next()).done;)b=b.value,this.set(b[0],b[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var d=Object.seal({x:4}),b=new e(p([[d,"s"]]));if("s"!=b.get(d)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var f=b.entries(),k=f.next();if(k.done||k.value[0]!=d||"s"!=k.value[1])return!1;k=f.next();return k.done||4!=k.value[0].x||
"t"!=k.value[1]||!f.next().done?!1:!0}catch(q){return!1}}())return e;x();var l=new WeakMap;h.prototype.set=function(d,b){d=0===d?0:d;var f=g(this,d);f.list||(f.list=this.g[f.id]=[]);f.a?f.a.value=b:(f.a={next:this.b,c:this.b.c,head:this.b,key:d,value:b},f.list.push(f.a),this.b.c.next=f.a,this.b.c=f.a,this.size++);return this};h.prototype.delete=function(d){d=g(this,d);return d.a&&d.list?(d.list.splice(d.index,1),d.list.length||delete this.g[d.id],d.a.c.next=d.a.next,d.a.next.c=d.a.c,d.a.head=null,
this.size--,!0):!1};h.prototype.clear=function(){this.g={};this.b=this.b.c=c();this.size=0};h.prototype.has=function(d){return!!g(this,d).a};h.prototype.get=function(d){return(d=g(this,d).a)&&d.value};h.prototype.entries=function(){return a(this,function(d){return[d.key,d.value]})};h.prototype.keys=function(){return a(this,function(d){return d.key})};h.prototype.values=function(){return a(this,function(d){return d.value})};h.prototype.forEach=function(d,b){for(var f=this.entries(),k;!(k=f.next()).done;)k=
k.value,d.call(b,k[1],k[0],this)};h.prototype[Symbol.iterator]=h.prototype.entries;var m=0;return h});A("Object.is",function(e){return e?e:function(c,a){return c===a?0!==c||1/c===1/a:c!==c&&a!==a}});A("Array.prototype.includes",function(e){return e?e:function(c,a){var g=this;g instanceof String&&(g=String(g));var h=g.length;a=a||0;for(0>a&&(a=Math.max(a+h,0));a<h;a++){var l=g[a];if(l===c||Object.is(l,c))return!0}return!1}});
A("String.prototype.includes",function(e){return e?e:function(c,a){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(c,a||0)}});var B=this;
function C(){return function(e){var c=this;e=void 0===e?[]:e;this.filters=[];this.f=new Map;this.all=function(a){return c.filt(function(){return!0},a)};this.clear=function(a){c.f.delete(a);return c};this.dispatch=function(a,g){if(!c.j(a))return console.error("EventDispatcher couldn't dispatch the event since EventKeyList doesn't contains key: ",a),c;for(var h=c.f.get(a)||[],l=h.length,m,d=0;d<l;d++)m=h[d],m.listener({s:a,target:g,u:--m.i}),0>=m.i&&(h.splice(d--,1),--l);return c.o(a,g)};this.filt=
function(a,g){c.filters.push({v:a,listener:g});return c};this.off=function(a,g){a=c.f.get(a);if(!a)return c;for(var h=a.length,l=0;l<h;l++)if(a[l].listener===g){a.splice(l,1);break}return c};this.on=function(a,g){return c.i(a,Infinity,g)};this.once=function(a,g){return c.i(a,1,g)};this.i=function(a,g,h){if(!c.j(a))return console.error("EventDispatcher couldn't add the listener: ",h,"since EventKeyList doesn't contains key: ",a),c;var l=c.f.get(a)||[];c.f.has(a)||c.f.set(a,l);l.push({listener:h,i:g});
return c};this.o=function(a,g){for(var h=p(c.filters),l=h.next();!l.done;l=h.next())l=l.value,l.v(a,g)&&l.listener({s:a,target:g,u:Infinity});return c};this.j=function(a){return c.l.length&&!c.l.includes(a)?!1:!0};this.l=e}}"object"===typeof exports&&"undefined"!==typeof module?module.A=C():"function"===typeof define&&define.w?define(C):(B=B||self,B.EventDispatcher=C());
